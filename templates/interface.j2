# This file is generated by Ansible for {{ item.interface }}
auto {{ item.interface }}

iface {{ item.interface }} inet static
    address {{ item.ipv4 }}
    netmask {{ item.netmask_v4 }}
    gateway {{ item.gateway_v4 }}
{% if item.nameservers is defined %}
    dns-nameservers {{ item.nameservers }}
{% endif %}
{% if item.interface.startswith('wlan') %}
    wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf
{% else %}
    # interface {{ item.interface }} is not a wireless interface; so no wpa-conf required
{% endif %}

{% if item.ipv6 is defined and item.netmask_v6 is defined %}
iface {{ item.interface }} inet6 static
    address {{ item.ipv6 }}
    netmask {{ item.netmask_v6 }}
{% endif %}
